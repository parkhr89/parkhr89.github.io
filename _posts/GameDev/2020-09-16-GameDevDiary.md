---
layout: post
title: "게임 개발 일기 #2 Unity 물체 이동"
date: 2020-09-16 10:50 +900
categories: GameDevDiary
---

## GameObject 이동 개발 방법

1. AddForce 함수 사용
    - 물리엔진을 이용해 대상 물체에 힘을 주는 방식 (F=ma 개념)
    - 필요 조건
        - 적용하고자 하는 GameObject에 Rigidbody Component가 추가 되어 있어야 함
        - Body Type 이 Dynamic이어야 함. (Kinematic은 물리 엔진 적용이 안 됨)
    - 작동 메커니즘
        - 물체에 방향성으로 힘(F)을 주면 물체의 질량(m)에 따라 가속도(a)가 붙는다. (F=ma)
        - AddForce 한 번마다 힘이 주어지므로, 지속적으로 AddForce 함수를 호출하면 가속도는 계속 증가한다.
        - 힘, 질량, 마찰력을 이용해 조정이 가능하다.
    - ForceMode
        - Force : 지속적으로 힘을 가하는 모드 = 레이싱 게임에서 전진 키를 계속 누를 때
        - Impulse : 순간적인 힘을 주는 모드 = 레이싱 게임에서 부스터 아이템을 생각하면 됨
    - 대충 정리...
        - 물리적 현실성을 구현하고자 한다면 적합한 함수
        - 마찰력 등 튜닝이 제대로 되지 않는다면 이동이 어색할 수 있음
        - 특히 단순 2D 이동을 구현하기에는 힘듦
        - 다른 Rigidbody object와 무딪힐 경우 세팅에 따라 서로 튕길 수도 있음
    
2. (권장하지 않는 방법) velocity 직접 수정
    - 물체의 속력을 직접 수정하여 물체를 이동한다.
    - 주의 사항
        - 이 방법은 Unity에서 권장하지 않는 방법
        - velocity 변수는 unity 내의 물리엔진이 작동하면서 내부적으로 계산되는 값이기 때문에 임의로 수정할 시 예상치 못한 버그가 발생할 수 있다.

3. position 값 직접 수정
    - GameObject의 position을 직접 수정하여 위치를 조정
    - 지속적인 이동을 시키려면 position 값을 계산하여 Update 함수 등에 넣어 적용해야 함
    - 직접 position 값을 수정할 경우, 물리 엔진을 사용하지 않게 되므로 Collider가 겹치는 문제가 발생한다.
    - 순간이동 등의 기능을 구현할 때 사용하는 게 좋음
    
4. MovePosition 함수 사용
    - 물리 엔진을 사용하며 (Collision 체크) GameObject를 이동시킴
    - 매 프레임 단위로 물리 엔진 계산을 수행하기 때문에 3번 방법보다 오버로드가 있음
        - 하지만 Collision 체크가 필요한 게임을 개발할 경우 이 정도 오버로드는 무시할만하다.


* 예시코드, 실제 게임 적용 화면 등은 나중에 추가할 수도 있다
